{"ast":null,"code":"import shallowEqual from '../utils/shallow-equal';\n\nconst updateMiddleware = storeState => next => arg => {\n  let output;\n  const state = storeState.getState();\n  const nextState = next(state, arg, out => {\n    output = out;\n  });\n\n  if (!shallowEqual(nextState, state)) {\n    storeState.setState(nextState);\n  }\n\n  return output;\n};\n\nexport default updateMiddleware;","map":{"version":3,"sources":["/Users/nirob/Desktop/rfh-chat/simplechat/node_modules/react-sweet-state/lib/esm/middlewares/update.js"],"names":["shallowEqual","updateMiddleware","storeState","next","arg","output","state","getState","nextState","out","setState"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,wBAAzB;;AAEA,MAAMC,gBAAgB,GAAGC,UAAU,IAAIC,IAAI,IAAIC,GAAG,IAAI;AACpD,MAAIC,MAAJ;AACA,QAAMC,KAAK,GAAGJ,UAAU,CAACK,QAAX,EAAd;AACA,QAAMC,SAAS,GAAGL,IAAI,CAACG,KAAD,EAAQF,GAAR,EAAaK,GAAG,IAAI;AACxCJ,IAAAA,MAAM,GAAGI,GAAT;AACD,GAFqB,CAAtB;;AAIA,MAAI,CAACT,YAAY,CAACQ,SAAD,EAAYF,KAAZ,CAAjB,EAAqC;AACnCJ,IAAAA,UAAU,CAACQ,QAAX,CAAoBF,SAApB;AACD;;AAED,SAAOH,MAAP;AACD,CAZD;;AAcA,eAAeJ,gBAAf","sourcesContent":["import shallowEqual from '../utils/shallow-equal';\n\nconst updateMiddleware = storeState => next => arg => {\n  let output;\n  const state = storeState.getState();\n  const nextState = next(state, arg, out => {\n    output = out;\n  });\n\n  if (!shallowEqual(nextState, state)) {\n    storeState.setState(nextState);\n  }\n\n  return output;\n};\n\nexport default updateMiddleware;"]},"metadata":{},"sourceType":"module"}