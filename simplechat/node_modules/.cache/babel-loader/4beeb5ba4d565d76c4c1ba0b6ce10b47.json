{"ast":null,"code":"const {\n  default: db\n} = require(\"./Dexie/db\");\n\nconst ws = new WebSocket(\"ws://localhost:3000\");\n\nws.onopen = () => {\n  console.log(\"open connection\");\n}; // onmessage = e => {\n//     if (e.data.op === 'add') {\n//         ws.onopen = () => {\n//             console.log(\"open connection\");\n//             ws.send(JSON.stringify(e.data.value));\n//         };\n//         ws.onmessage = async msg => {\n//             console.log(\"getMessage\", msg.data);\n//             let data = JSON.parse(msg.data);\n//             await db.comments.add({\n//                 text: data.cmnt\n//             }).then(()=> {\n//                 postMessage(msg.data);\n//                 // ws.close()\n//             }).catch((err)=> {\n//                 window.alert(err);\n//             })\n//         };\n//     }\n// }","map":{"version":3,"sources":["/Users/nirob/Desktop/rfh-chat/simplechat/src/worker.js"],"names":["default","db","require","ws","WebSocket","onopen","console","log"],"mappings":"AAAA,MAAM;AAAEA,EAAAA,OAAO,EAAEC;AAAX,IAAkBC,OAAO,CAAC,YAAD,CAA/B;;AAEA,MAAMC,EAAE,GAAG,IAAIC,SAAJ,CAAc,qBAAd,CAAX;;AACAD,EAAE,CAACE,MAAH,GAAY,MAAM;AACdC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACH,CAFD,C,CAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["const { default: db } = require(\"./Dexie/db\");\n\nconst ws = new WebSocket(\"ws://localhost:3000\");\nws.onopen = () => {\n    console.log(\"open connection\");\n};\n// onmessage = e => {\n//     if (e.data.op === 'add') {\n//         ws.onopen = () => {\n//             console.log(\"open connection\");\n//             ws.send(JSON.stringify(e.data.value));\n//         };\n        \n//         ws.onmessage = async msg => {\n//             console.log(\"getMessage\", msg.data);\n//             let data = JSON.parse(msg.data);\n//             await db.comments.add({\n//                 text: data.cmnt\n//             }).then(()=> {\n//                 postMessage(msg.data);\n//                 // ws.close()\n//             }).catch((err)=> {\n//                 window.alert(err);\n//             })\n//         };\n//     }\n// }\n"]},"metadata":{},"sourceType":"module"}